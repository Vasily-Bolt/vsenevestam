//- page.pug
extends ../layout.pug
include ./catalog-includes.pug

include ../../assets/articles/train-dresses-article/train-dresses-article

append variables
  -
    var PageHead = {
      title : 'Купить свадебное платье со шлейфом',
      keywords : 'каталог свадебных платьев со шлейфом, цены на свадебные платья со шлейфом',
      description : 'Каталог свадебных платьев со шлейфом Все Невестам',
    }
  include ./dresses-list
    //если убрать эту пустую строку то нихера не работает получение переменных из dresses-list

append content
  - 
    var drs = dressesList
    var deleteIndexes = []
  each dress,index in dressesList
    - 
      if ( drs[index].additionalInfo.typeOfDress.includes('train') ) {
        drs[index].imagePath = `${drs[index].imagePath}/${drs[index].imageNames[0]}`
        drs[index].underText = [drs[index].additionalInfo.price, `Размеры в наличии: ${drs[index].additionalInfo.size}`]
        drs[index].titleUnder = drs[index].additionalInfo.dressName
      } else {
        deleteIndexes.push(index);
      }
  - deleteIndexes.reverse()
  each index in deleteIndexes
    - drs.splice(index,1)
  +dress-cards-list(drs,true)
  +train-dresses-article